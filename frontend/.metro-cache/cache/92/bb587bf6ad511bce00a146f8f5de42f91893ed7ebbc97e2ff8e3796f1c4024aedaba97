{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":90},"end":{"line":2,"column":69,"index":159}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":160},"end":{"line":3,"column":26,"index":186}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":187},"end":{"line":4,"column":39,"index":226}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async idToken => {\n      try {\n        const response = await axios.default.post(`${BACKEND_URL}/api/auth/google`, {\n          id_token: idToken\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw error;\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":114,"map":[[15,2,25,0,"Object"],[15,8,25,0],[15,9,25,0,"defineProperty"],[15,23,25,0],[15,24,25,0,"exports"],[15,31,25,0],[16,4,25,0,"enumerable"],[16,14,25,0],[17,4,25,0,"get"],[17,7,25,0],[17,18,25,0,"get"],[17,19,25,0],[18,6,25,0],[18,13,25,0,"AuthProvider"],[18,25,25,0],[19,4,25,0],[20,2,25,0],[21,2,83,0,"Object"],[21,8,83,0],[21,9,83,0,"defineProperty"],[21,23,83,0],[21,24,83,0,"exports"],[21,31,83,0],[22,4,83,0,"enumerable"],[22,14,83,0],[23,4,83,0,"get"],[23,7,83,0],[23,18,83,0,"get"],[23,19,83,0],[24,6,83,0],[24,13,83,0,"useAuth"],[24,20,83,0],[25,4,83,0],[26,2,83,0],[27,2,89,2],[27,6,89,2,"_expoVirtualEnv"],[27,21,89,2],[27,24,89,2,"require"],[27,31,89,2],[27,32,89,2,"_dependencyMap"],[27,46,89,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_expoConstants"],[33,20,4,0],[33,23,4,0,"require"],[33,30,4,0],[33,31,4,0,"_dependencyMap"],[33,45,4,0],[34,2,4,0],[34,6,4,0,"Constants"],[34,15,4,0],[34,18,4,0,"_interopDefault"],[34,33,4,0],[34,34,4,0,"_expoConstants"],[34,48,4,0],[35,2,4,39],[35,6,4,39,"_reactJsxDevRuntime"],[35,25,4,39],[35,28,4,39,"require"],[35,35,4,39],[35,36,4,39,"_dependencyMap"],[35,50,4,39],[36,2,6,0],[36,8,6,6,"BACKEND_URL"],[36,19,6,17],[36,22,6,20,"Constants"],[36,31,6,29],[36,32,6,29,"default"],[36,39,6,29],[36,40,6,30,"expoConfig"],[36,50,6,40],[36,52,6,42,"extra"],[36,57,6,47],[36,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[36,82,6,72],[36,86,6,72,"_expoVirtualEnv"],[36,101,6,72],[36,102,6,72,"env"],[36,105,6,72],[36,106,6,72,"EXPO_PUBLIC_BACKEND_URL"],[36,129,6,111],[37,2,23,0],[37,8,23,6,"AuthContext"],[37,19,23,17],[37,35,23,20],[37,39,23,20,"createContext"],[37,45,23,33],[37,46,23,33,"createContext"],[37,59,23,33],[37,61,23,63,"undefined"],[37,70,23,72],[37,71,23,73],[38,2,25,7],[38,8,25,13,"AuthProvider"],[38,20,25,25],[38,23,25,28,"AuthProvider"],[38,24,25,29],[39,4,25,31,"children"],[40,2,25,65],[40,3,25,66],[40,8,25,71],[41,4,25,71,"_s"],[41,6,25,71],[42,4,26,2],[42,10,26,8],[42,11,26,9,"user"],[42,15,26,13],[42,17,26,15,"setUser"],[42,24,26,22],[42,25,26,23],[42,28,26,26],[42,32,26,26,"useState"],[42,38,26,34],[42,39,26,34,"useState"],[42,47,26,34],[42,49,26,48],[42,53,26,52],[42,54,26,53],[43,4,27,2],[43,10,27,8],[43,11,27,9,"token"],[43,16,27,14],[43,18,27,16,"setToken"],[43,26,27,24],[43,27,27,25],[43,30,27,28],[43,34,27,28,"useState"],[43,40,27,36],[43,41,27,36,"useState"],[43,49,27,36],[43,51,27,52],[43,55,27,56],[43,56,27,57],[44,4,28,2],[44,10,28,8],[44,11,28,9,"loading"],[44,18,28,16],[44,20,28,18,"setLoading"],[44,30,28,28],[44,31,28,29],[44,34,28,32],[44,38,28,32,"useState"],[44,44,28,40],[44,45,28,40,"useState"],[44,53,28,40],[44,55,28,41],[44,59,28,45],[44,60,28,46],[45,4,30,2],[45,8,30,2,"useEffect"],[45,14,30,11],[45,15,30,11,"useEffect"],[45,24,30,11],[45,26,30,12],[45,32,30,18],[46,6,31,4,"loadStoredAuth"],[46,20,31,18],[46,21,31,19],[46,22,31,20],[47,4,32,2],[47,5,32,3],[47,7,32,5],[47,9,32,7],[47,10,32,8],[48,4,34,2],[48,10,34,8,"loadStoredAuth"],[48,24,34,22],[48,27,34,25],[48,33,34,25,"loadStoredAuth"],[48,34,34,25],[48,39,34,37],[49,6,35,4],[49,10,35,8],[50,8,36,6],[50,14,36,12,"storedToken"],[50,25,36,23],[50,28,36,26],[50,34,36,32,"AsyncStorage"],[50,46,36,44],[50,47,36,44,"default"],[50,54,36,44],[50,55,36,45,"getItem"],[50,62,36,52],[50,63,36,53],[50,75,36,65],[50,76,36,66],[51,8,37,6],[51,14,37,12,"storedUser"],[51,24,37,22],[51,27,37,25],[51,33,37,31,"AsyncStorage"],[51,45,37,43],[51,46,37,43,"default"],[51,53,37,43],[51,54,37,44,"getItem"],[51,61,37,51],[51,62,37,52],[51,68,37,58],[51,69,37,59],[52,8,39,6],[52,12,39,10,"storedToken"],[52,23,39,21],[52,27,39,25,"storedUser"],[52,37,39,35],[52,39,39,37],[53,10,40,8,"setToken"],[53,18,40,16],[53,19,40,17,"storedToken"],[53,30,40,28],[53,31,40,29],[54,10,41,8,"setUser"],[54,17,41,15],[54,18,41,16,"JSON"],[54,22,41,20],[54,23,41,21,"parse"],[54,28,41,26],[54,29,41,27,"storedUser"],[54,39,41,37],[54,40,41,38],[54,41,41,39],[55,8,42,6],[56,6,43,4],[56,7,43,5],[56,8,43,6],[56,15,43,13,"error"],[56,20,43,18],[56,22,43,20],[57,8,44,6,"console"],[57,15,44,13],[57,16,44,14,"error"],[57,21,44,19],[57,22,44,20],[57,43,44,41],[57,45,44,43,"error"],[57,50,44,48],[57,51,44,49],[58,6,45,4],[58,7,45,5],[58,16,45,14],[59,8,46,6,"setLoading"],[59,18,46,16],[59,19,46,17],[59,24,46,22],[59,25,46,23],[60,6,47,4],[61,4,48,2],[61,5,48,3],[62,4,50,2],[62,10,50,8,"login"],[62,15,50,13],[62,18,50,16],[62,24,50,23,"idToken"],[62,31,50,38],[62,35,50,43],[63,6,51,4],[63,10,51,8],[64,8,52,6],[64,14,52,12,"response"],[64,22,52,20],[64,25,52,23],[64,31,52,29,"axios"],[64,36,52,34],[64,37,52,34,"default"],[64,44,52,34],[64,45,52,35,"post"],[64,49,52,39],[64,50,52,40],[64,53,52,43,"BACKEND_URL"],[64,64,52,54],[64,82,52,72],[64,84,52,74],[65,10,53,8,"id_token"],[65,18,53,16],[65,20,53,18,"idToken"],[66,8,54,6],[66,9,54,7],[66,10,54,8],[67,8,56,6],[67,14,56,12],[68,10,56,14,"access_token"],[68,22,56,26],[69,10,56,28,"user"],[69,14,56,32],[69,16,56,34,"userData"],[70,8,56,43],[70,9,56,44],[70,12,56,47,"response"],[70,20,56,55],[70,21,56,56,"data"],[70,25,56,60],[71,8,58,6],[71,14,58,12,"AsyncStorage"],[71,26,58,24],[71,27,58,24,"default"],[71,34,58,24],[71,35,58,25,"setItem"],[71,42,58,32],[71,43,58,33],[71,55,58,45],[71,57,58,47,"access_token"],[71,69,58,59],[71,70,58,60],[72,8,59,6],[72,14,59,12,"AsyncStorage"],[72,26,59,24],[72,27,59,24,"default"],[72,34,59,24],[72,35,59,25,"setItem"],[72,42,59,32],[72,43,59,33],[72,49,59,39],[72,51,59,41,"JSON"],[72,55,59,45],[72,56,59,46,"stringify"],[72,65,59,55],[72,66,59,56,"userData"],[72,74,59,64],[72,75,59,65],[72,76,59,66],[73,8,61,6,"setToken"],[73,16,61,14],[73,17,61,15,"access_token"],[73,29,61,27],[73,30,61,28],[74,8,62,6,"setUser"],[74,15,62,13],[74,16,62,14,"userData"],[74,24,62,22],[74,25,62,23],[75,6,63,4],[75,7,63,5],[75,8,63,6],[75,15,63,13,"error"],[75,20,63,18],[75,22,63,20],[76,8,64,6,"console"],[76,15,64,13],[76,16,64,14,"error"],[76,21,64,19],[76,22,64,20],[76,36,64,34],[76,38,64,36,"error"],[76,43,64,41],[76,44,64,42],[77,8,65,6],[77,14,65,12,"error"],[77,19,65,17],[78,6,66,4],[79,4,67,2],[79,5,67,3],[80,4,69,2],[80,10,69,8,"logout"],[80,16,69,14],[80,19,69,17],[80,25,69,17,"logout"],[80,26,69,17],[80,31,69,29],[81,6,70,4],[81,12,70,10,"AsyncStorage"],[81,24,70,22],[81,25,70,22,"default"],[81,32,70,22],[81,33,70,23,"removeItem"],[81,43,70,33],[81,44,70,34],[81,56,70,46],[81,57,70,47],[82,6,71,4],[82,12,71,10,"AsyncStorage"],[82,24,71,22],[82,25,71,22,"default"],[82,32,71,22],[82,33,71,23,"removeItem"],[82,43,71,33],[82,44,71,34],[82,50,71,40],[82,51,71,41],[83,6,72,4,"setToken"],[83,14,72,12],[83,15,72,13],[83,19,72,17],[83,20,72,18],[84,6,73,4,"setUser"],[84,13,73,11],[84,14,73,12],[84,18,73,16],[84,19,73,17],[85,4,74,2],[85,5,74,3],[86,4,76,2],[86,24,77,4],[86,28,77,4,"_reactJsxDevRuntime"],[86,47,77,4],[86,48,77,4,"jsxDEV"],[86,54,77,4],[86,56,77,5,"AuthContext"],[86,67,77,16],[86,68,77,17,"Provider"],[86,76,77,25],[87,6,77,26,"value"],[87,11,77,31],[87,13,77,33],[88,8,77,35,"user"],[88,12,77,39],[89,8,77,41,"token"],[89,13,77,46],[90,8,77,48,"loading"],[90,15,77,55],[91,8,77,57,"login"],[91,13,77,62],[92,8,77,64,"logout"],[93,6,77,71],[93,7,77,73],[94,6,77,73,"children"],[94,14,77,73],[94,16,78,7,"children"],[95,4,78,15],[96,6,78,15,"fileName"],[96,14,78,15],[96,16,78,15,"_jsxFileName"],[96,28,78,15],[97,6,78,15,"lineNumber"],[97,16,78,15],[98,6,78,15,"columnNumber"],[98,18,78,15],[99,4,78,15],[99,11,79,26],[99,12,79,27],[100,2,81,0],[100,3,81,1],[101,2,81,2,"_s"],[101,4,81,2],[101,5,25,13,"AuthProvider"],[101,17,25,25],[102,2,25,25,"_c"],[102,4,25,25],[102,7,25,13,"AuthProvider"],[102,19,25,25],[103,2,83,7],[103,8,83,13,"useAuth"],[103,15,83,20],[103,18,83,23,"useAuth"],[103,19,83,23],[103,24,83,29],[104,4,83,29,"_s2"],[104,7,83,29],[105,4,84,2],[105,10,84,8,"context"],[105,17,84,15],[105,20,84,18],[105,24,84,18,"useContext"],[105,30,84,28],[105,31,84,28,"useContext"],[105,41,84,28],[105,43,84,29,"AuthContext"],[105,54,84,40],[105,55,84,41],[106,4,85,2],[106,8,85,6,"context"],[106,15,85,13],[106,20,85,18,"undefined"],[106,29,85,27],[106,31,85,29],[107,6,86,4],[107,12,86,10],[107,16,86,14,"Error"],[107,21,86,19],[107,22,86,20],[107,67,86,65],[107,68,86,66],[108,4,87,2],[109,4,88,2],[109,11,88,9,"context"],[109,18,88,16],[110,2,89,0],[110,3,89,1],[111,2,89,2,"_s2"],[111,5,89,2],[111,6,83,13,"useAuth"],[111,13,83,20],[112,2,83,20],[112,6,83,20,"_c"],[112,8,83,20],[113,2,83,20,"$RefreshReg$"],[113,14,83,20],[113,15,83,20,"_c"],[113,17,83,20],[114,0,83,20],[114,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;4BCwB;YCK;GDE;yBEE;GFc;gBGE;GHiB;iBIE;GJK;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}